# Copyright (c) 2021 Markus Falb <markus.falb@mafalb.at>
# GNU General Public License v3.0+
# see LICENSE or https://www.gnu.org/licenses/gpl-3.0.txt
---

- name: assert that SCL specific variables are present
  assert:
    that:
    - httpd_scl_provider is defined
    - httpd_scl_name is defined
  when: httpd_scl_prefix is defined

- name: assert that state is valid
  assert:
    that:
    - state|default('present') in ['present', 'absent']

- name: create modified httpd_templates dict
  mafalb.apache.make_template_options:
  register: _httpd_templates

- name: include_tasks
  include_tasks: "{{ state|default('present') }}.yml"

...
